<!doctype html>
<html lang="en">
    <%- include('../partials/head') -%>
    <body>
        <div class="text-layout mdl-header mdl-layout mdl-js-layout mdl-layout--fixed-header" >
            <%- include('../partials/nav') -%>
            <main class="mdl-layout__content">
                <div class="mdl-grid text-main">
                    <div class="mdl-card mdl-shadow--16dp util-center" id="prijava">
                        <div class="mdl-card__title mdl-color--orange-800">
                            <h2 class="mdl-card__title-text mdl-color-text--white">Prijavno okno</h2>
                        </div>
                        <div class="mdl-card__supporting-text mdl-grid">
                            <b class="mdl-color-text--accent"></b>
                            <form method="POST" action="/prijava">
                                <input type="hidden" name="action" value="login"/>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                                    <label class="mdl-textfield__label" for="textfield_username">E-mail</label>
                                    <input class="mdl-textfield__input" type="email" id="textfield_email" name="email"/>
                                </div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                                    <label class="mdl-textfield__label" for="textfield_password">Geslo</label>
                                    <input class="mdl-textfield__input" type="password" id="textfield_password" name="password"/>
                                </div>
                                <div class="mdl-cell mdl-cell--12-col send-button" align="center">
                                    <button type="submit"  class="mdl-button mdl-js-ripple-effect mdl-js-button mdl-button--raised mdl-button--colored mdl-color--primary">
                                        Prijava
                                    </button>
                                </div>
                            </form>
                            <div class="mdl-cell mdl-cell--12-col" align="center">
                                <a onclick="prikaziRegistracija()">Registracija</a>
                            </div>
                        </div>
                    </div>
                    <div class="mdl-card mdl-shadow--16dp util-center" id="registracija" style="display: none;">
                        <div class="mdl-card__title mdl-color--teal-500">
                            <h2 class="mdl-card__title-text mdl-color-text--white">Podatki za registracijo</h2>
                        </div>
                        <div class="mdl-card__supporting-text mdl-grid">
                            <b class="mdl-color-text--accent"></b>
                            <form method="POST" action="/registracija">
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                                    <label class="mdl-textfield__label" for="textfield_name">Ime</label>
                                    <input class="mdl-textfield__input" type="text" id="textfield_name" name="name_surname"/>
                                </div>
                                <input type="hidden" name="action" value="register"/>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                                    <label class="mdl-textfield__label" for="textfield_new_username">E-mail</label>
                                    <input class="mdl-textfield__input" type="email" id="textfield_new_username" name="email"/>
                                    <span class="mdl-textfield__error">Vpisani naslov je napačen</span>
                                </div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                                    <label class="mdl-textfield__label" for="textfield_new_password">Geslo</label>
                                    <input class="mdl-textfield__input" type="password" id="textfield_new_password" name="password"
                                           pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})"/>
                                    <span class="mdl-textfield__error">6-20 znakov z vsaj eno številko, velike in male črke, posebni znaki @#$%</span>
                                </div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                                    <label class="mdl-textfield__label" for="textfield_password_confirm">Potrditev gesla</label>
                                    <input class="mdl-textfield__input" type="password" id="textfield_password_confirm" name="password_confirm"/>
                                </div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                                    <label class="mdl-textfield__label" for="textfield_phone">Telefon</label>
                                    <input class="mdl-textfield__input" type="text" id="textfield_phone" name="phone" pattern="^(?:\+\d{1,3}|0\d{1,3}|00\d{1,2})?(?:\s?\(\d+\))?(?:[-\/\s.]|\d)+$"/>
                                </div>
                                <div class="mdl-cell mdl-cell--12-col" align="center">
                                    <a class="mdl-color-text--grey mdl-color--grey-200 padding-10" onclick="ustvariKljuc()">Ustvari ključ</a>
                                </div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                                    <label class="mdl-textfield__label" for="textfield_family">Ključ za pridružitev družini</label>
                                    <input class="mdl-textfield__input" type="text" id="textfield_family" name="family"/>
                                </div>
                                <div class="mdl-cell mdl-cell--12-col send-button" align="center">
                                    <button class="mdl-button mdl-js-ripple-effect mdl-js-button mdl-button--raised mdl-button--colored" id="login">
                                        Registracija
                                    </button>
                                </div>
                                <div class="mdl-cell mdl-cell--12-col" align="center">
                                    <a onclick="prikaziPrijava()">Prijava</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <%- include('../partials/footer') -%>
            </main>
        </div>
        <%- include('../partials/script') -%>
        <script defer src="/scripts/prijava.js"></script>
        <dialog id="dialog" class="mdl-dialog dialog-main">
            <div class="dialog-content-div" id="dialog-div">
                <h3 id="dialog-title" class="mdl-dialog__title"></h3>
                <div class="mdl-dialog__content" style="overflow-y: auto;padding-top: 50px;overflow-x: visible">
                </div>
                <div class="mdl-dialog__actions">
                    <button type="button" class="mdl-button close mdl-color--red-400">Zapri</button>
                </div>
            </div>
        </dialog>
    </body>
</html>